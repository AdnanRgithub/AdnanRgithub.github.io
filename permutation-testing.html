<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 5 Permutation Testing | A Minimal Book Example</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 5 Permutation Testing | A Minimal Book Example" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Permutation Testing | A Minimal Book Example" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Yihui Xie">


<meta name="date" content="2019-01-19">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="bootstrapping.html">
<link rel="next" href="multiple-regression-as-you-never-seen-it-before-or-the-case-for-the-importance-of-the-assumption-of-independence-.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a></li>
<li class="chapter" data-level="2" data-path="the-magic-of-the-central-limit-theorem.html"><a href="the-magic-of-the-central-limit-theorem.html"><i class="fa fa-check"></i><b>2</b> The magic of the central limit theorem:</a><ul>
<li class="chapter" data-level="2.1" data-path="the-magic-of-the-central-limit-theorem.html"><a href="the-magic-of-the-central-limit-theorem.html#sampling-sampling-sampling"><i class="fa fa-check"></i><b>2.1</b> Sampling, sampling, sampling…</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="applying-the-central-limit-theorem.html"><a href="applying-the-central-limit-theorem.html"><i class="fa fa-check"></i><b>3</b> Applying the Central Limit Theorem</a><ul>
<li class="chapter" data-level="3.1" data-path="applying-the-central-limit-theorem.html"><a href="applying-the-central-limit-theorem.html#an-example"><i class="fa fa-check"></i><b>3.1</b> An example</a></li>
<li class="chapter" data-level="3.2" data-path="applying-the-central-limit-theorem.html"><a href="applying-the-central-limit-theorem.html#central-limit-theorem"><i class="fa fa-check"></i><b>3.2</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="3.3" data-path="applying-the-central-limit-theorem.html"><a href="applying-the-central-limit-theorem.html#samples"><i class="fa fa-check"></i><b>3.3</b> Samples</a></li>
<li class="chapter" data-level="3.4" data-path="applying-the-central-limit-theorem.html"><a href="applying-the-central-limit-theorem.html#hypothesis-testing"><i class="fa fa-check"></i><b>3.4</b> Hypothesis Testing</a></li>
<li class="chapter" data-level="3.5" data-path="applying-the-central-limit-theorem.html"><a href="applying-the-central-limit-theorem.html#the-flaw-in-the-z-test"><i class="fa fa-check"></i><b>3.5</b> The flaw in the z-test</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="bootstrapping.html"><a href="bootstrapping.html"><i class="fa fa-check"></i><b>4</b> Bootstrapping</a></li>
<li class="chapter" data-level="5" data-path="permutation-testing.html"><a href="permutation-testing.html"><i class="fa fa-check"></i><b>5</b> Permutation Testing</a></li>
<li class="chapter" data-level="6" data-path="multiple-regression-as-you-never-seen-it-before-or-the-case-for-the-importance-of-the-assumption-of-independence-.html"><a href="multiple-regression-as-you-never-seen-it-before-or-the-case-for-the-importance-of-the-assumption-of-independence-.html"><i class="fa fa-check"></i><b>6</b> Multiple regression as you never seen it before. Or the case for the importance of the assumption of independence.</a><ul>
<li class="chapter" data-level="6.1" data-path="multiple-regression-as-you-never-seen-it-before-or-the-case-for-the-importance-of-the-assumption-of-independence-.html"><a href="multiple-regression-as-you-never-seen-it-before-or-the-case-for-the-importance-of-the-assumption-of-independence-.html#house-price-prediction"><i class="fa fa-check"></i><b>6.1</b> House price prediction</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="how-can-we-do-data-analysis-when-theres-no-ground-truth.html"><a href="how-can-we-do-data-analysis-when-theres-no-ground-truth.html"><i class="fa fa-check"></i><b>7</b> How can we do data analysis when there’’s no “ground truth”?</a></li>
<li class="chapter" data-level="8" data-path="the-beauty-of-programming-via-probability-distributions-and-estimating-them.html"><a href="the-beauty-of-programming-via-probability-distributions-and-estimating-them.html"><i class="fa fa-check"></i><b>8</b> The beauty of programming via probability distributions (and estimating them)</a></li>
<li class="chapter" data-level="9" data-path="finishingsubmitting-a-paper-in-the-lab.html"><a href="finishingsubmitting-a-paper-in-the-lab.html"><i class="fa fa-check"></i><b>9</b> Finishing/submitting a paper in the lab</a></li>
<li class="chapter" data-level="10" data-path="understanding-data-overfitting-and-p-values.html"><a href="understanding-data-overfitting-and-p-values.html"><i class="fa fa-check"></i><b>10</b> Understanding data, overfitting, and p values</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Minimal Book Example</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="permutation-testing" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Permutation Testing</h1>
<p>Similar to the standard <em>independent</em> or <em>unpaired samples</em> <em>t</em>-test, <em>Permutation tests</em> can be used to perform <em>hypothesis testing</em> to test whether the observed mean difference between two groups is statistically significant or not.</p>
<p>For example, our research question is to test whether the salaries of male and female employees working at a big multinational company differ? For this, say we collected salary information from a random sample of <span class="math inline">\(30\)</span> male and <span class="math inline">\(30\)</span> female employees (total of <span class="math inline">\(60\)</span> salaries). If we would like to use the permutation testing to test whether the salaries of male and female employees are statistically different, the following steps are involved:</p>
<ol style="list-style-type: decimal">
<li>Calculate the mean salary difference between male and female sample groups. This is the sample mean difference.</li>
<li>Build the permutation distribution for the mean salary difference based on large number of permutation resamples generated <em>without replacement</em>. In order to perform hypothesis testing, we should resample in a manner that is consistent with the <em>null hypothesis</em> (and with the study design). In this case, null hypothesis is that there is no salary difference between male and female populations which implies that gender doesn’t play a role in employee’s salaries. So, to create a permutation resample, we randomly assign <span class="math inline">\(30\)</span> out of <span class="math inline">\(60\)</span> salaries to male group and remaining <span class="math inline">\(30\)</span> salaries to female group. Then, we calculate the mean salary difference between two groups for this permutation resample. We repeat this resampling procedure <em>without replacement</em> thousands of times and calculate mean salary difference for each permutation resample. Finally, plotting the distribution of the mean salary difference of all permutation resamples gives us the sampling distribution under the null hypothesis.</li>
<li>Calculate the <em>p</em>-value by finding the observed sample mean difference on the permutation distribution. In other words, find the proportion of samples in the permutation distribution that are at or more extreme than the sample mean difference calculated in step <span class="math inline">\(1\)</span>. If the observed <em>p</em>-value is low (i.e., if the sample mean difference fell on tails of the permutation distribution), then we can infer that the observed mean salary difference is less likely happened by chance and hence conclude that the population means of male and female employee salaries are statistically different.</li>
</ol>
<p>Compared to the standard <em>t</em> test, permutation tests are accurate even when the population distributions are not normal. However, under the null hypothesis, permutation tests require the two populations to have identical distributions with same means, same shapes and same variability <span style="color:red">(how can we test this?)</span>.</p>
<hr />
<p>Posted by Srikanth Padmala.</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="bootstrapping.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="multiple-regression-as-you-never-seen-it-before-or-the-case-for-the-importance-of-the-assumption-of-independence-.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/04-PermutationTesting.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
